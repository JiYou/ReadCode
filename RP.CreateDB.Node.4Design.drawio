<mxfile host="app.diagrams.net" modified="2022-09-14T06:00:18.195Z" agent="5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/104.0.0.0 Safari/537.36" etag="qrChU9D0EiRXi8GCKjry" version="20.3.0" type="github">
  <diagram id="Utj4QRkRQI-RT1qHg1_4" name="Page-1">
    <mxGraphModel dx="2721" dy="6272" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="3300" pageHeight="4681" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="y9hmc7ExkTuUqrcy4E5k-6" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="y9hmc7ExkTuUqrcy4E5k-3" target="y9hmc7ExkTuUqrcy4E5k-5" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="y9hmc7ExkTuUqrcy4E5k-3" value="&lt;h1&gt;Server.cs:191 CreateOrUpdate(ServerResource)&lt;/h1&gt;&lt;p&gt;&amp;nbsp;通过rest api的body放到serverResource.properties里面。&lt;br&gt;&lt;br&gt;- 这里不能做为成员变量是因为serverResource这个类的成员都是给ARM看的。&lt;br&gt;- serverResource.Properties里面的成员是我们自己用的。&lt;/p&gt;" style="text;html=1;strokeColor=#d79b00;fillColor=#ffe6cc;spacing=5;spacingTop=-20;whiteSpace=wrap;overflow=hidden;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="680.0000000000018" y="5" width="575" height="150" as="geometry" />
        </mxCell>
        <mxCell id="y9hmc7ExkTuUqrcy4E5k-8" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="y9hmc7ExkTuUqrcy4E5k-5" target="y9hmc7ExkTuUqrcy4E5k-7" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="y9hmc7ExkTuUqrcy4E5k-5" value="&lt;h1&gt;Server.cs:602 UpsertServerAsync(ServerResource)&lt;/h1&gt;&lt;p&gt;&amp;nbsp;ServerResource.LogOnDiskEnabled&lt;/p&gt;" style="text;html=1;strokeColor=#d79b00;fillColor=#ffe6cc;spacing=5;spacingTop=-20;whiteSpace=wrap;overflow=hidden;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="745.0000000000009" y="245" width="445" height="150" as="geometry" />
        </mxCell>
        <mxCell id="y9hmc7ExkTuUqrcy4E5k-10" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="y9hmc7ExkTuUqrcy4E5k-7" target="y9hmc7ExkTuUqrcy4E5k-9" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="y9hmc7ExkTuUqrcy4E5k-7" value="&lt;h1&gt;OrcasBreadthWorkflows:325 UpsertServerAsync(logOnDiskEnabled)&lt;/h1&gt;&lt;p&gt;- 把logOnDiskEnabled放到serverUpsertArguments这个变量里面去!&lt;/p&gt;" style="text;html=1;strokeColor=#82b366;fillColor=#d5e8d4;spacing=5;spacingTop=-20;whiteSpace=wrap;overflow=hidden;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="1360.000000000001" y="-10" width="445" height="150" as="geometry" />
        </mxCell>
        <mxCell id="y9hmc7ExkTuUqrcy4E5k-12" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="y9hmc7ExkTuUqrcy4E5k-9" target="y9hmc7ExkTuUqrcy4E5k-11" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="y9hmc7ExkTuUqrcy4E5k-9" value="&lt;h1&gt;BaseWorkflows:775 UpsertServer&lt;br&gt;(internalServerUpsertArguments)&lt;/h1&gt;&lt;p&gt;&amp;nbsp;通过rest api的body放到serverResource.properties里面。&lt;br&gt;&lt;br&gt;- 这里不能做为成员变量是因为serverResource这个类的成员都是给ARM看的。&lt;br&gt;- serverResource.Properties里面的成员是我们自己用的。&lt;/p&gt;" style="text;html=1;strokeColor=#d79b00;fillColor=#ffe6cc;spacing=5;spacingTop=-20;whiteSpace=wrap;overflow=hidden;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="1950.000000000001" y="-10" width="445" height="150" as="geometry" />
        </mxCell>
        <mxCell id="y9hmc7ExkTuUqrcy4E5k-14" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="y9hmc7ExkTuUqrcy4E5k-11" target="y9hmc7ExkTuUqrcy4E5k-13" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="y9hmc7ExkTuUqrcy4E5k-11" value="&lt;h1&gt;BaseWorkflows:871 调用&lt;br&gt;UpsertServerManagementOperationV2:start&lt;br&gt;(internalServerUpsertArguments)&lt;/h1&gt;&lt;h1&gt;&lt;p style=&quot;font-size: 12px; font-weight: 400;&quot;&gt;&amp;nbsp;- 直接把参数internalServerUpsertArguments传给Start&lt;br&gt;&lt;br&gt;&lt;/p&gt;&lt;/h1&gt;" style="text;html=1;strokeColor=#d79b00;fillColor=#ffe6cc;spacing=5;spacingTop=-20;whiteSpace=wrap;overflow=hidden;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="1922.500000000001" y="230" width="500" height="150" as="geometry" />
        </mxCell>
        <mxCell id="y9hmc7ExkTuUqrcy4E5k-16" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="y9hmc7ExkTuUqrcy4E5k-13" target="y9hmc7ExkTuUqrcy4E5k-15" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="y9hmc7ExkTuUqrcy4E5k-13" value="&lt;h1&gt;UpsertServerManagementOperationV2.cs:Start(serverUpsertArgs)&lt;/h1&gt;&lt;h1&gt;&lt;p style=&quot;font-size: 12px; font-weight: 400;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;/h1&gt;" style="text;html=1;strokeColor=#82b366;fillColor=#d5e8d4;spacing=5;spacingTop=-20;whiteSpace=wrap;overflow=hidden;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="2490" width="776.25" height="70" as="geometry" />
        </mxCell>
        <mxCell id="y9hmc7ExkTuUqrcy4E5k-17" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="y9hmc7ExkTuUqrcy4E5k-15" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="4250" y="35" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="y9hmc7ExkTuUqrcy4E5k-15" value="&lt;h1&gt;ManagementOperationStateMachine.cs:213 CreateInstance(object inputParameters)&lt;br&gt;&lt;/h1&gt;&lt;h1&gt;ManagementOperationStateMachine.cs:263&lt;br&gt;CreateInstance(object inputParameters)&lt;/h1&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;- Convert inputParameters to XML&lt;br&gt;SqlXml serializedInputParams = GenericSqlXmlConverter&amp;lt;object&amp;gt;.ConvertToSqlXml(inputParameters);&lt;br&gt;&lt;br&gt;- Use xml arguments to generate stateMachine&lt;/div&gt;&lt;div&gt;stateMachine = new ManageOperationStateMachine(serializedInputParams)&lt;br&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; -&amp;gt; Save OperationStateMachine.OperationParameters = parameterBag (serializedInputParams);&lt;br&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; -&amp;gt; OperationParameters is a global variable&lt;br&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;h1&gt;&lt;p style=&quot;font-size: 12px; font-weight: 400;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;/h1&gt;" style="text;html=1;strokeColor=#d79b00;fillColor=#ffe6cc;spacing=5;spacingTop=-20;whiteSpace=wrap;overflow=hidden;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="3360" y="-132.5" width="776.25" height="335" as="geometry" />
        </mxCell>
        <mxCell id="y9hmc7ExkTuUqrcy4E5k-20" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="y9hmc7ExkTuUqrcy4E5k-18" target="y9hmc7ExkTuUqrcy4E5k-19" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="y9hmc7ExkTuUqrcy4E5k-24" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="y9hmc7ExkTuUqrcy4E5k-18" target="y9hmc7ExkTuUqrcy4E5k-23" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="y9hmc7ExkTuUqrcy4E5k-18" value="&lt;h1&gt;UpsertServerManagementOperationV2.cs:752 InitiateOperation(operationStateMachine)&lt;br&gt;&lt;/h1&gt;&lt;p&gt;- var tuple = this.GetSpec(operationStateMachine);&amp;nbsp; &amp;lt;- Get tuple 782 Line&lt;br&gt;&lt;/p&gt;&lt;p&gt;-&amp;nbsp;&lt;span style=&quot;background-color: initial;&quot;&gt;&amp;nbsp;this.SaveSpec(operationStateMachine, tuple.rollbackSpec, creationSpec.InstanceId);&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;- Line 812&lt;/span&gt;&lt;/p&gt;var fsm = GeneralRequestHandlerStateMachine.CreateInstance(operationStateMachine.Context, creationSpec.SpecId, creationSpec.InstanceId, secreteInput);" style="text;html=1;strokeColor=#82b366;fillColor=#d5e8d4;spacing=5;spacingTop=-20;whiteSpace=wrap;overflow=hidden;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="4250" y="-25" width="560" height="195" as="geometry" />
        </mxCell>
        <mxCell id="y9hmc7ExkTuUqrcy4E5k-22" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="y9hmc7ExkTuUqrcy4E5k-19" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="5140" y="187.5" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="y9hmc7ExkTuUqrcy4E5k-19" value="&lt;h1&gt;GeneralRequestHandlerStateMachine.cs:812&lt;br&gt;&lt;/h1&gt;&lt;p&gt;GeneralRequestHandlerStateMachine fsm；fsmContext.InitializeInstance(fsm)&lt;/p&gt;" style="text;html=1;strokeColor=#d79b00;fillColor=#ffe6cc;spacing=5;spacingTop=-20;whiteSpace=wrap;overflow=hidden;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="4860" y="37.5" width="560" height="70" as="geometry" />
        </mxCell>
        <mxCell id="y9hmc7ExkTuUqrcy4E5k-26" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="y9hmc7ExkTuUqrcy4E5k-23" target="y9hmc7ExkTuUqrcy4E5k-25" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="y9hmc7ExkTuUqrcy4E5k-23" value="&lt;h1&gt;UpsertServerManagementOperationV2.cs:1500 spec = new &lt;font color=&quot;#ff0a3b&quot;&gt;ServerCreatingSpec&lt;/font&gt;()&lt;br&gt;&lt;font color=&quot;#ff0a3b&quot;&gt;rollBackSpec &lt;/font&gt;= &lt;font color=&quot;#ff0a3b&quot;&gt;ServerDeletionActor&lt;/font&gt;.CreateSpec&lt;br&gt;&lt;/h1&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;" style="text;html=1;strokeColor=#82b366;fillColor=#d5e8d4;spacing=5;spacingTop=-20;whiteSpace=wrap;overflow=hidden;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="4250" y="250" width="560" height="110" as="geometry" />
        </mxCell>
        <mxCell id="y9hmc7ExkTuUqrcy4E5k-28" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontColor=#FF0A3B;" parent="1" source="y9hmc7ExkTuUqrcy4E5k-25" target="y9hmc7ExkTuUqrcy4E5k-27" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="y9hmc7ExkTuUqrcy4E5k-25" value="&lt;h1&gt;&amp;lt;ServerDeletionActor,&amp;nbsp;ServerCreationSpec&amp;gt;&lt;/h1&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;" style="text;html=1;strokeColor=#82b366;fillColor=#d5e8d4;spacing=5;spacingTop=-20;whiteSpace=wrap;overflow=hidden;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="4250" y="410" width="560" height="80" as="geometry" />
        </mxCell>
        <mxCell id="y9hmc7ExkTuUqrcy4E5k-30" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=20;fontColor=#000000;" parent="1" source="y9hmc7ExkTuUqrcy4E5k-27" target="y9hmc7ExkTuUqrcy4E5k-29" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="y9hmc7ExkTuUqrcy4E5k-27" value="&lt;font style=&quot;font-size: 20px;&quot; color=&quot;#000000&quot;&gt;ServerCreationActor&lt;/font&gt;" style="ellipse;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;" parent="1" vertex="1">
          <mxGeometry x="4420" y="540" width="220" height="110" as="geometry" />
        </mxCell>
        <mxCell id="y9hmc7ExkTuUqrcy4E5k-32" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=20;fontColor=#000000;" parent="1" source="y9hmc7ExkTuUqrcy4E5k-29" target="y9hmc7ExkTuUqrcy4E5k-31" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="y9hmc7ExkTuUqrcy4E5k-29" value="&lt;font color=&quot;#000000&quot;&gt;&lt;span style=&quot;font-size: 20px;&quot;&gt;ServerCreationInternalActor&lt;/span&gt;&lt;/font&gt;" style="ellipse;whiteSpace=wrap;html=1;fontColor=#FF0A3B;" parent="1" vertex="1">
          <mxGeometry x="4385" y="730" width="290" height="110" as="geometry" />
        </mxCell>
        <mxCell id="y9hmc7ExkTuUqrcy4E5k-34" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=20;fontColor=#000000;" parent="1" source="y9hmc7ExkTuUqrcy4E5k-31" target="y9hmc7ExkTuUqrcy4E5k-33" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="y9hmc7ExkTuUqrcy4E5k-36" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=20;fontColor=#000000;" parent="1" source="y9hmc7ExkTuUqrcy4E5k-31" target="y9hmc7ExkTuUqrcy4E5k-35" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="y9hmc7ExkTuUqrcy4E5k-48" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=20;fontColor=#000000;" parent="1" source="y9hmc7ExkTuUqrcy4E5k-31" target="y9hmc7ExkTuUqrcy4E5k-47" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="y9hmc7ExkTuUqrcy4E5k-31" value="&lt;font color=&quot;#000000&quot;&gt;&lt;span style=&quot;font-size: 20px;&quot;&gt;InstanceCreationActor&lt;/span&gt;&lt;/font&gt;" style="ellipse;whiteSpace=wrap;html=1;fontColor=#FF0A3B;" parent="1" vertex="1">
          <mxGeometry x="4385" y="920" width="290" height="110" as="geometry" />
        </mxCell>
        <mxCell id="y9hmc7ExkTuUqrcy4E5k-33" value="&lt;font color=&quot;#000000&quot;&gt;&lt;span style=&quot;font-size: 20px;&quot;&gt;AzureUsagesUpdateByDifferenceActor&lt;/span&gt;&lt;/font&gt;" style="ellipse;whiteSpace=wrap;html=1;fontColor=#FF0A3B;" parent="1" vertex="1">
          <mxGeometry x="3850" y="1120" width="400" height="110" as="geometry" />
        </mxCell>
        <mxCell id="y9hmc7ExkTuUqrcy4E5k-38" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=20;fontColor=#000000;" parent="1" source="y9hmc7ExkTuUqrcy4E5k-35" target="y9hmc7ExkTuUqrcy4E5k-37" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="4530" y="1370" />
              <mxPoint x="4530" y="1370" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="y9hmc7ExkTuUqrcy4E5k-35" value="&lt;font color=&quot;#000000&quot;&gt;&lt;span style=&quot;font-size: 20px;&quot;&gt;SequentialExecutionActor&lt;/span&gt;&lt;/font&gt;" style="ellipse;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;" parent="1" vertex="1">
          <mxGeometry x="4385" y="1110" width="290" height="110" as="geometry" />
        </mxCell>
        <mxCell id="RBFewMgyC1fiDn0zkRKi-11" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.016;entryY=0.597;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="y9hmc7ExkTuUqrcy4E5k-37" target="RBFewMgyC1fiDn0zkRKi-2">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="RBFewMgyC1fiDn0zkRKi-14" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="1" source="y9hmc7ExkTuUqrcy4E5k-37" target="RBFewMgyC1fiDn0zkRKi-1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="y9hmc7ExkTuUqrcy4E5k-37" value="&lt;font color=&quot;#000000&quot;&gt;&lt;span style=&quot;font-size: 20px;&quot;&gt;ParallelExecutionActor&lt;/span&gt;&lt;/font&gt;" style="ellipse;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="4350" y="1500" width="290" height="110" as="geometry" />
        </mxCell>
        <mxCell id="RBFewMgyC1fiDn0zkRKi-7" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="y9hmc7ExkTuUqrcy4E5k-39">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="5185" y="1560" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="y9hmc7ExkTuUqrcy4E5k-39" value="&lt;font color=&quot;#000000&quot;&gt;&lt;span style=&quot;font-size: 20px;&quot;&gt;AzureVirtualMachineCreationActor&lt;/span&gt;&lt;/font&gt;" style="ellipse;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" parent="1" vertex="1">
          <mxGeometry x="4765" y="1320" width="340" height="110" as="geometry" />
        </mxCell>
        <mxCell id="y9hmc7ExkTuUqrcy4E5k-41" value="&lt;font color=&quot;#000000&quot;&gt;&lt;span style=&quot;font-size: 20px;&quot;&gt;NodeHealthValidationActor&lt;/span&gt;&lt;/font&gt;" style="ellipse;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="5755" y="1510" width="290" height="110" as="geometry" />
        </mxCell>
        <mxCell id="y9hmc7ExkTuUqrcy4E5k-46" value="" style="shape=flexArrow;endArrow=classic;html=1;rounded=0;fontSize=20;fontColor=#000000;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="5685" y="1559.5" as="sourcePoint" />
            <mxPoint x="5745" y="1559.5" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="y9hmc7ExkTuUqrcy4E5k-47" value="&lt;font color=&quot;#000000&quot;&gt;&lt;span style=&quot;font-size: 20px;&quot;&gt;InstanceConfigurationPushActor&lt;/span&gt;&lt;/font&gt;" style="ellipse;whiteSpace=wrap;html=1;fontColor=#FF0A3B;" parent="1" vertex="1">
          <mxGeometry x="5180" y="1120" width="310" height="110" as="geometry" />
        </mxCell>
        <mxCell id="y9hmc7ExkTuUqrcy4E5k-88" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=20;fontColor=#000000;" parent="1" source="y9hmc7ExkTuUqrcy4E5k-86" target="y9hmc7ExkTuUqrcy4E5k-87" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="y9hmc7ExkTuUqrcy4E5k-86" value="ServerUpdationActor" style="ellipse;whiteSpace=wrap;html=1;fontSize=20;fillColor=#e1d5e7;strokeColor=#9673a6;" parent="1" vertex="1">
          <mxGeometry x="9980" y="500" width="320" height="120" as="geometry" />
        </mxCell>
        <mxCell id="y9hmc7ExkTuUqrcy4E5k-105" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=20;fontColor=#000000;" parent="1" source="y9hmc7ExkTuUqrcy4E5k-87" target="y9hmc7ExkTuUqrcy4E5k-89" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="y9hmc7ExkTuUqrcy4E5k-106" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=20;fontColor=#000000;" parent="1" source="y9hmc7ExkTuUqrcy4E5k-87" target="y9hmc7ExkTuUqrcy4E5k-91" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="y9hmc7ExkTuUqrcy4E5k-107" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=20;fontColor=#000000;" parent="1" source="y9hmc7ExkTuUqrcy4E5k-87" target="y9hmc7ExkTuUqrcy4E5k-93" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="y9hmc7ExkTuUqrcy4E5k-108" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=20;fontColor=#000000;" parent="1" source="y9hmc7ExkTuUqrcy4E5k-87" target="y9hmc7ExkTuUqrcy4E5k-95" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="y9hmc7ExkTuUqrcy4E5k-109" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.447;entryY=-0.014;entryDx=0;entryDy=0;entryPerimeter=0;fontSize=20;fontColor=#000000;" parent="1" source="y9hmc7ExkTuUqrcy4E5k-87" target="y9hmc7ExkTuUqrcy4E5k-97" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="y9hmc7ExkTuUqrcy4E5k-110" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=20;fontColor=#000000;" parent="1" source="y9hmc7ExkTuUqrcy4E5k-87" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="11150" y="1090" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="y9hmc7ExkTuUqrcy4E5k-111" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=20;fontColor=#000000;" parent="1" source="y9hmc7ExkTuUqrcy4E5k-87" target="y9hmc7ExkTuUqrcy4E5k-101" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="y9hmc7ExkTuUqrcy4E5k-113" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=20;fontColor=#000000;" parent="1" source="y9hmc7ExkTuUqrcy4E5k-87" target="y9hmc7ExkTuUqrcy4E5k-112" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="y9hmc7ExkTuUqrcy4E5k-114" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=20;fontColor=#000000;" parent="1" source="y9hmc7ExkTuUqrcy4E5k-87" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="12515.454545454544" y="1140" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="y9hmc7ExkTuUqrcy4E5k-117" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=20;fontColor=#000000;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="y9hmc7ExkTuUqrcy4E5k-87" target="y9hmc7ExkTuUqrcy4E5k-118" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="13069.090909090908" y="1160" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="y9hmc7ExkTuUqrcy4E5k-87" value="InstanceUpdationActor" style="ellipse;whiteSpace=wrap;html=1;fontSize=20;fillColor=#e1d5e7;strokeColor=#9673a6;" parent="1" vertex="1">
          <mxGeometry x="9980" y="730" width="320" height="120" as="geometry" />
        </mxCell>
        <mxCell id="y9hmc7ExkTuUqrcy4E5k-89" value="ServerTagsUpdateActor" style="ellipse;whiteSpace=wrap;html=1;fontSize=20;fillColor=#e1d5e7;strokeColor=#9673a6;" parent="1" vertex="1">
          <mxGeometry x="8640" y="1100" width="320" height="120" as="geometry" />
        </mxCell>
        <mxCell id="y9hmc7ExkTuUqrcy4E5k-91" value="ServerPasswordUpdateActor" style="ellipse;whiteSpace=wrap;html=1;fontSize=20;fillColor=#e1d5e7;strokeColor=#9673a6;" parent="1" vertex="1">
          <mxGeometry x="9080" y="1100" width="320" height="120" as="geometry" />
        </mxCell>
        <mxCell id="y9hmc7ExkTuUqrcy4E5k-93" value="ServerBackupRetentionUpsertActor" style="ellipse;whiteSpace=wrap;html=1;fontSize=20;fillColor=#e1d5e7;strokeColor=#9673a6;" parent="1" vertex="1">
          <mxGeometry x="9520" y="1105" width="320" height="120" as="geometry" />
        </mxCell>
        <mxCell id="y9hmc7ExkTuUqrcy4E5k-95" value="InstanceComputeUpdateWithFailoverActor" style="ellipse;whiteSpace=wrap;html=1;fontSize=20;fillColor=#e1d5e7;strokeColor=#9673a6;" parent="1" vertex="1">
          <mxGeometry x="9915" y="1102.5" width="450" height="125" as="geometry" />
        </mxCell>
        <mxCell id="y9hmc7ExkTuUqrcy4E5k-97" value="OrcasServerStateTransitionActor" style="ellipse;whiteSpace=wrap;html=1;fontSize=20;fillColor=#e1d5e7;strokeColor=#9673a6;" parent="1" vertex="1">
          <mxGeometry x="10530" y="1110" width="320" height="120" as="geometry" />
        </mxCell>
        <mxCell id="y9hmc7ExkTuUqrcy4E5k-99" value="VirtualMachineComputeSizeReconcileActor" style="ellipse;whiteSpace=wrap;html=1;fontSize=20;fillColor=#e1d5e7;strokeColor=#9673a6;" parent="1" vertex="1">
          <mxGeometry x="10950" y="1092.5" width="410" height="137.5" as="geometry" />
        </mxCell>
        <mxCell id="y9hmc7ExkTuUqrcy4E5k-101" value="OrcasServerStateTransitionActor" style="ellipse;whiteSpace=wrap;html=1;fontSize=20;fillColor=#e1d5e7;strokeColor=#9673a6;" parent="1" vertex="1">
          <mxGeometry x="11470" y="1115" width="320" height="120" as="geometry" />
        </mxCell>
        <mxCell id="y9hmc7ExkTuUqrcy4E5k-112" value="GeoBackupReconcileActor" style="ellipse;whiteSpace=wrap;html=1;fontSize=20;fillColor=#e1d5e7;strokeColor=#9673a6;" parent="1" vertex="1">
          <mxGeometry x="11880" y="1110" width="320" height="120" as="geometry" />
        </mxCell>
        <mxCell id="y9hmc7ExkTuUqrcy4E5k-116" value="StorageSizeReconcileActor" style="ellipse;whiteSpace=wrap;html=1;fontSize=20;fillColor=#e1d5e7;strokeColor=#9673a6;" parent="1" vertex="1">
          <mxGeometry x="12341" y="1140" width="320" height="120" as="geometry" />
        </mxCell>
        <mxCell id="y9hmc7ExkTuUqrcy4E5k-118" value="AutogrowReconcileActor" style="ellipse;whiteSpace=wrap;html=1;fontSize=20;fillColor=#e1d5e7;strokeColor=#9673a6;" parent="1" vertex="1">
          <mxGeometry x="12760" y="1130" width="320" height="120" as="geometry" />
        </mxCell>
        <mxCell id="y9hmc7ExkTuUqrcy4E5k-125" value="ServerCreationComputeParameters" style="whiteSpace=wrap;html=1;fillColor=#d80073;strokeColor=#A50040;fontColor=#ffffff;" parent="1" vertex="1">
          <mxGeometry x="4630" y="560" width="195" height="60" as="geometry" />
        </mxCell>
        <mxCell id="y9hmc7ExkTuUqrcy4E5k-137" value="ServerCreationComputeParameters&lt;br&gt;Generate Guid for LogOnDisk" style="whiteSpace=wrap;html=1;fillColor=#d80073;strokeColor=#A50040;fontColor=#ffffff;" parent="1" vertex="1">
          <mxGeometry x="4600" y="990" width="195" height="60" as="geometry" />
        </mxCell>
        <mxCell id="y9hmc7ExkTuUqrcy4E5k-139" value="ServerCreationComputeParameters" style="whiteSpace=wrap;html=1;fillColor=#d80073;strokeColor=#A50040;fontColor=#ffffff;" parent="1" vertex="1">
          <mxGeometry x="4660" y="725" width="195" height="60" as="geometry" />
        </mxCell>
        <mxCell id="y9hmc7ExkTuUqrcy4E5k-155" value="computeclient (both can get by name_str)&lt;br&gt;-&amp;gt; (&lt;b&gt;VirtualMachineInner&lt;/b&gt;, &lt;b&gt;DiskInner&lt;/b&gt;)" style="whiteSpace=wrap;html=1;fontSize=20;fontColor=#FF0A3B;align=left;" parent="1" vertex="1">
          <mxGeometry x="5445" y="1615" width="455" height="105" as="geometry" />
        </mxCell>
        <mxCell id="JpxrmhfrBMJHyhu52tb8-1" value="&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; Guid requestId = RequestHelper.GetRequestId();" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1900" y="140" width="320" height="30" as="geometry" />
        </mxCell>
        <mxCell id="JpxrmhfrBMJHyhu52tb8-3" value="&lt;h1&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;SeverModel&lt;/span&gt;&lt;/h1&gt;" style="text;html=1;strokeColor=none;fillColor=none;spacing=5;spacingTop=-20;whiteSpace=wrap;overflow=hidden;rounded=0;fontColor=#FF0A3B;" parent="1" vertex="1">
          <mxGeometry x="1030" y="155" width="190" height="120" as="geometry" />
        </mxCell>
        <mxCell id="RBFewMgyC1fiDn0zkRKi-1" value="&lt;h1&gt;Storage &amp;amp; KV&lt;/h1&gt;&lt;p&gt;Below is used to create KV and storage resources.&lt;/p&gt;" style="text;html=1;strokeColor=none;fillColor=none;spacing=5;spacingTop=-20;whiteSpace=wrap;overflow=hidden;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="4080" y="1495" width="190" height="120" as="geometry" />
        </mxCell>
        <mxCell id="RBFewMgyC1fiDn0zkRKi-3" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" target="y9hmc7ExkTuUqrcy4E5k-39">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="4690" y="1545" as="sourcePoint" />
            <mxPoint x="4706" y="1375" as="targetPoint" />
            <Array as="points">
              <mxPoint x="4685" y="1545" />
              <mxPoint x="4685" y="1375" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="RBFewMgyC1fiDn0zkRKi-4" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" target="RBFewMgyC1fiDn0zkRKi-5">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="4690" y="1780" as="targetPoint" />
            <mxPoint x="4685" y="1540" as="sourcePoint" />
            <Array as="points">
              <mxPoint x="4685" y="1545" />
              <mxPoint x="4685" y="1785" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="RBFewMgyC1fiDn0zkRKi-12" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.293;entryY=0.973;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="RBFewMgyC1fiDn0zkRKi-2" target="y9hmc7ExkTuUqrcy4E5k-39">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="RBFewMgyC1fiDn0zkRKi-13" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.294;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="RBFewMgyC1fiDn0zkRKi-2" target="RBFewMgyC1fiDn0zkRKi-5">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="RBFewMgyC1fiDn0zkRKi-2" value="&lt;span style=&quot;font-size: 20px;&quot;&gt;ParallelExecutionActor&lt;/span&gt;" style="ellipse;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="1">
          <mxGeometry x="4720" y="1490" width="290" height="110" as="geometry" />
        </mxCell>
        <mxCell id="RBFewMgyC1fiDn0zkRKi-8" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="RBFewMgyC1fiDn0zkRKi-5">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="5305" y="1560" as="targetPoint" />
            <Array as="points">
              <mxPoint x="5185" y="1785" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="RBFewMgyC1fiDn0zkRKi-5" value="&lt;font color=&quot;#000000&quot;&gt;&lt;span style=&quot;font-size: 20px;&quot;&gt;AzureManagedDiskCreationActor&lt;/span&gt;&lt;/font&gt;" style="ellipse;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="4765" y="1730" width="340" height="110" as="geometry" />
        </mxCell>
        <mxCell id="RBFewMgyC1fiDn0zkRKi-6" value="spec.LogOnDiskId" style="whiteSpace=wrap;html=1;fillColor=#d80073;strokeColor=#A50040;fontColor=#ffffff;" vertex="1" parent="1">
          <mxGeometry x="4905" y="1800" width="195" height="60" as="geometry" />
        </mxCell>
        <mxCell id="RBFewMgyC1fiDn0zkRKi-15" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;opacity=40;" vertex="1" parent="1">
          <mxGeometry x="4645" y="1280" width="595" height="640" as="geometry" />
        </mxCell>
        <mxCell id="RBFewMgyC1fiDn0zkRKi-9" value="&lt;font color=&quot;#000000&quot;&gt;&lt;span style=&quot;font-size: 20px;&quot;&gt;AzureManagedDiskCreationActor&lt;/span&gt;&lt;/font&gt;" style="ellipse;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="5310" y="1505" width="340" height="110" as="geometry" />
        </mxCell>
        <mxCell id="RBFewMgyC1fiDn0zkRKi-10" value="&amp;lt;OrcasInstanceId, spec.LogOnDiskId&amp;gt;" style="whiteSpace=wrap;html=1;fillColor=#d80073;strokeColor=#A50040;fontColor=#ffffff;" vertex="1" parent="1">
          <mxGeometry x="5445" y="1580" width="195" height="60" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
